{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/car-rent.service\";\nimport * as i2 from \"src/app/Services/car-crud.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"ngx-toastr\";\nimport * as i5 from \"@angular/common\";\nexport class RentalAgreementPageComponent {\n  constructor(_carRentService, _carCrudService, route, toastr) {\n    this._carRentService = _carRentService;\n    this._carCrudService = _carCrudService;\n    this.route = route;\n    this.toastr = toastr;\n    this.getRentalAgreement();\n  }\n  getRentalAgreement() {\n    this.rentalAgreement = this._carRentService.getRentalAgreement();\n    //get the car also to display details on page\n    this._carCrudService.getCarById(this.rentalAgreement.carId).subscribe(res => {\n      this.car = res;\n    });\n    console.log(this.rentalAgreement);\n  }\n  edit() {\n    this.route.navigate(['/user-home/rent-car']);\n  }\n  accept() {\n    this._carRentService.acceptRentalAgreement(this.rentalAgreement).subscribe(res => {\n      console.log(res);\n      this.toastr.success(\"Agreement Completed\", \"Car Rental App\");\n      this.route.navigate(['/user-home']);\n    });\n  }\n}\n_class = RentalAgreementPageComponent;\n_class.ɵfac = function RentalAgreementPageComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.CarRentService), i0.ɵɵdirectiveInject(i2.CarCrudService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.ToastrService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-rental-agreement-page\"]],\n  decls: 38,\n  vars: 13,\n  consts: [[1, \"card\", \"mt-5\"], [1, \"card-body\", \"d-flex\", \"justify-content-center\", \"align-items-center\"], [1, \"\"], [1, \"card-title\", \"bold\"], [2, \"color\", \"blue\"], [1, \"card-text\"], [2, \"color\", \"#3deb34\"], [1, \"text-center\", \"container\", \"col-6\", \"mt-3\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"btn\", \"btn-warning\", 2, \"margin-left\", \"10px\", 3, \"click\"]],\n  template: function RentalAgreementPageComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h4\", 3);\n      i0.ɵɵtext(4, \"Name:\");\n      i0.ɵɵelementStart(5, \"span\", 4);\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"h4\", 5);\n      i0.ɵɵtext(8, \"Maker: \");\n      i0.ɵɵelementStart(9, \"span\", 4);\n      i0.ɵɵtext(10);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"h4\", 5);\n      i0.ɵɵtext(12, \"Model: \");\n      i0.ɵɵelementStart(13, \"span\", 4);\n      i0.ɵɵtext(14);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"h4\", 5);\n      i0.ɵɵtext(16, \"Price per day: \");\n      i0.ɵɵelementStart(17, \"span\", 4);\n      i0.ɵɵtext(18);\n      i0.ɵɵpipe(19, \"currency\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(20, \"h4\", 5);\n      i0.ɵɵtext(21, \"Duration:\");\n      i0.ɵɵelementStart(22, \"span\", 4);\n      i0.ɵɵtext(23);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(24, \"h4\", 5);\n      i0.ɵɵtext(25, \"Rent Start Date:\");\n      i0.ɵɵelementStart(26, \"span\", 4);\n      i0.ɵɵtext(27);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(28, \"h4\", 5);\n      i0.ɵɵtext(29, \"Total Cost: \");\n      i0.ɵɵelementStart(30, \"span\", 6);\n      i0.ɵɵtext(31);\n      i0.ɵɵpipe(32, \"currency\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(33, \"div\", 7)(34, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function RentalAgreementPageComponent_Template_button_click_34_listener() {\n        return ctx.accept();\n      });\n      i0.ɵɵtext(35, \"Accept\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function RentalAgreementPageComponent_Template_button_click_36_listener() {\n        return ctx.edit();\n      });\n      i0.ɵɵtext(37, \"Edit\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate(ctx.rentalAgreement.userId);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.car.maker);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.car.model);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(19, 7, ctx.car.rentalPrice, \"INR\"));\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate1(\"\", ctx.rentalAgreement.duration, \" Days \");\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\"\", ctx.rentalAgreement.rentStartDate, \" Days \");\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(32, 10, ctx.rentalAgreement.totalCost, \"INR\"));\n    }\n  },\n  dependencies: [i5.CurrencyPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;AAWA,OAAM,MAAOA,4BAA4B;EAIvCC,YAAoBC,eAA8B,EAASC,eAA8B,EAASC,KAAY,EAASC,MAAoB;IAAvH,oBAAe,GAAfH,eAAe;IAAwB,oBAAe,GAAfC,eAAe;IAAwB,UAAK,GAALC,KAAK;IAAgB,WAAM,GAANC,MAAM;IAC3H,IAAI,CAACC,kBAAkB,EAAE;EAC3B;EAEAA,kBAAkB;IAChB,IAAI,CAACC,eAAe,GAAC,IAAI,CAACL,eAAe,CAACI,kBAAkB,EAAE;IAC9D;IAEA,IAAI,CAACH,eAAe,CAACK,UAAU,CAAC,IAAI,CAACD,eAAe,CAACE,KAAK,CAAC,CAACC,SAAS,CAACC,GAAG,IAAE;MACzE,IAAI,CAACC,GAAG,GAACD,GAAG;IAEd,CAAC,CAAC;IAEFE,OAAO,CAACC,GAAG,CAAC,IAAI,CAACP,eAAe,CAAC;EACnC;EAGAQ,IAAI;IACF,IAAI,CAACX,KAAK,CAACY,QAAQ,CAAC,CAAC,qBAAqB,CAAC,CAAC;EAC9C;EAEAC,MAAM;IACJ,IAAI,CAACf,eAAe,CAACgB,qBAAqB,CAAC,IAAI,CAACX,eAAe,CAAC,CAACG,SAAS,CAAEC,GAAO,IAAG;MACpFE,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC;MAChB,IAAI,CAACN,MAAM,CAACc,OAAO,CAAC,qBAAqB,EAAC,gBAAgB,CAAC;MAC3D,IAAI,CAACf,KAAK,CAACY,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC;IACrC,CAAC,CAAC;EACJ;;SA/BWhB,4BAA4B;;mBAA5BA,MAA4B;AAAA;;QAA5BA,MAA4B;EAAAoB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCXzCC,8BAAuB;MAGkBA,qBAAK;MAAAA,+BAAyB;MAAAA,YAA0B;MAAAA,iBAAO;MAC5FA,6BAAsB;MAAAA,uBAAO;MAAAA,+BAAyB;MAAAA,aAAa;MAAAA,iBAAO;MAC1EA,8BAAsB;MAAAA,wBAAO;MAAAA,gCAAyB;MAAAA,aAAa;MAAAA,iBAAO;MAC1EA,8BAAsB;MAAAA,gCAAe;MAAAA,gCAAyB;MAAAA,aAAqC;;MAAAA,iBAAO;MAC1GA,8BAAsB;MAAAA,0BAAS;MAAAA,gCAAyB;MAAAA,aAAkC;MAAAA,iBAAO;MACjGA,8BAAsB;MAAAA,iCAAgB;MAAAA,gCAAyB;MAAAA,aAAuC;MAAAA,iBAAO;MAC7GA,8BAAsB;MAAAA,6BAAY;MAAAA,gCAA4B;MAAAA,aAA+C;;MAAAA,iBAAO;MAI9HA,+BAA8C;MACZA;QAAA,OAASC,YAAQ;MAAA,EAAC;MAACD,uBAAM;MAAAA,iBAAS;MAClEA,kCAA4E;MAAjBA;QAAA,OAASC,UAAM;MAAA,EAAC;MAACD,qBAAI;MAAAA,iBAAS;;;MAZtBA,eAA0B;MAA1BA,gDAA0B;MAC/BA,eAAa;MAAbA,mCAAa;MACbA,eAAa;MAAbA,mCAAa;MACLA,eAAqC;MAArCA,uEAAqC;MAC3CA,eAAkC;MAAlCA,iEAAkC;MAC3BA,eAAuC;MAAvCA,sEAAuC;MACxCA,eAA+C;MAA/CA,kFAA+C","names":["RentalAgreementPageComponent","constructor","_carRentService","_carCrudService","route","toastr","getRentalAgreement","rentalAgreement","getCarById","carId","subscribe","res","car","console","log","edit","navigate","accept","acceptRentalAgreement","success","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\amangaur\\Desktop\\Angular_Learning\\CarRentalApp.UI\\src\\app\\Components\\LoggedInUser\\rental-agreement-page\\rental-agreement-page.component.ts","C:\\Users\\amangaur\\Desktop\\Angular_Learning\\CarRentalApp.UI\\src\\app\\Components\\LoggedInUser\\rental-agreement-page\\rental-agreement-page.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { CarCrudService } from 'src/app/Services/car-crud.service';\nimport { CarRentService } from 'src/app/Services/car-rent.service';\n\n@Component({\n  selector: 'app-rental-agreement-page',\n  templateUrl: './rental-agreement-page.component.html',\n  styleUrls: ['./rental-agreement-page.component.css']\n})\nexport class RentalAgreementPageComponent {\n  rentalAgreement:any;\n  \n  car:any;\n  constructor(private _carRentService:CarRentService,private _carCrudService:CarCrudService,private route:Router,private toastr:ToastrService){\n    this.getRentalAgreement();\n  }\n\n  getRentalAgreement(){\n    this.rentalAgreement=this._carRentService.getRentalAgreement();\n    //get the car also to display details on page\n    \n    this._carCrudService.getCarById(this.rentalAgreement.carId).subscribe(res=>{\n      this.car=res;\n      \n    });\n    \n    console.log(this.rentalAgreement)\n  }\n\n\n  edit(){\n    this.route.navigate(['/user-home/rent-car'])\n  }\n\n  accept(){\n    this._carRentService.acceptRentalAgreement(this.rentalAgreement).subscribe((res:any)=>{\n      console.log(res);\n      this.toastr.success(\"Agreement Completed\",\"Car Rental App\");\n      this.route.navigate(['/user-home'])\n    })\n  }\n\n\n}\n","<div class=\"card mt-5\">\n    <div class=\"card-body d-flex justify-content-center align-items-center\">\n        <div class=\"\">\n            <h4  class=\"card-title bold\">Name:<span style=\"color:blue\">{{rentalAgreement.userId}}</span> </h4>\n            <h4 class=\"card-text\">Maker: <span style=\"color:blue\">{{car.maker}}</span> </h4>\n            <h4 class=\"card-text\">Model: <span style=\"color:blue\">{{car.model}}</span> </h4>\n            <h4 class=\"card-text\">Price per day: <span style=\"color:blue\">{{car.rentalPrice | currency: 'INR'}}</span></h4>\n            <h4 class=\"card-text\">Duration:<span style=\"color:blue\">{{rentalAgreement.duration}} Days </span> </h4>\n            <h4 class=\"card-text\">Rent Start Date:<span style=\"color:blue\">{{rentalAgreement.rentStartDate}} Days </span> </h4>\n            <h4 class=\"card-text\">Total Cost: <span style=\"color:#3deb34\">{{rentalAgreement.totalCost | currency: 'INR'}}</span> </h4>\n        </div>\n    </div>\n  </div>\n  <div class=\"text-center container col-6 mt-3\">\n    <button class=\"btn btn-success\" (click)=\"accept()\">Accept</button>\n    <button class=\"btn btn-warning\" style=\"margin-left: 10px;\" (click)=\"edit()\">Edit</button>\n  </div>\n\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}